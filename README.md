React Stylesheet
================

[![Travis build status](https://img.shields.io/travis/prometheusresearch/react-stylesheet/master.svg)](https://travis-ci.org/prometheusresearch/react-stylesheet)

React Stylesheet is a methodology (and a library) for styling React components.

The main principle of React Stylesheet is that all styling should be done with
React components alone.

DOM components are styled with CSS and composite components are styled with
stylesheets (which are just sets of other components).

Let's define `<Button />` component which is styled using React Stylesheet.

```javascript
import React from 'react'
import ReactStylesheet from '@prometheusresearch/react-stylesheet'
import Icon from 'react-fa'

@ReactStylesheet
class Button extends React.Component {

  static stylesheet = {
    Root: 'button',
    Icon: Icon,
  }

  render() {
    let {caption, icon} = this.props
    let {Root, Icon} = this.stylesheet
    return (
      <Root>
        <Icon name={icon} />
        {caption}
      </Root>
    )
  }
}
```

What we did here is:

* We use `ReactStylesheet` [higher order component][] to mark out component as
  being styleable.

* We use `stylesheet` static attribute to define the stylsheet of the
  component.

* We reference components via `this.stylesheet` in `render()`.

Now the only part left is to produce a version of `<Button />` with different
styling. We use `style()` static method for that:

```javascript
let SuccessButton = Button.style({
  Root: {
    color: 'white',
    backgroundColor: 'green',
    hover: {
      color: 'red'
    }
  },
  Icon() {
    return <Icon name="ok" />
  }
})
```

We pass `style()` a stylesheet which is merged into the original one:

* If you pass a component (`Icon` in the example above, it's a function but with
  React >= 0.14 it's a valid component also) it is used instead of the original
  one.

* If you pass an object:

  * If it overrides DOM component in the original stylesheet, then the object is
    treated as a set of CSS styles.  It's compiled to CSS class and a new styled
    DOM component wrapper is generated with the CSS class attached.

  * If it overrides composite styleable component in the original stylesheet, then it's
    passed to that's component `style()` static method.

The last point allows to style component hierarchies with easy:

```javascript
let StyledForm = Form.style({
  Root: {
    ...
  },
  SubmitButton: {
    Root: {
      ...
    },
    Icon: {
      ...
    }
  }
})
```

## Styled DOM components

When you override DOM components in stylesheet by providing an object literal
with CSS rules then the new styled DOM component is created.

Another way to create styled DOM components is to use `style` function:

```javascript
import {style} from '@prometheusresearch/react-stylesheet'

let StyledDiv = style('div', {
  color: 'red'
})

React.render(<StyledDiv />, ...)
```

That results in:

```html
<style>
  .autogenerated_class_name {
    color: red;
  }
</style>
...
<div class="autogenerated_class_name" />
```

The `<style>` element is attached only at least one of the corresponding styled
DOM components are mounted into the DOM.

## States for styled DOM components

Styled DOM components are allowed to have states:

```javascript
let StyledDiv = style('div', {
  color: 'red',
  hover: {
    color: 'black'
  },
  customState: {
    backgroundColor: 'red'
  }
})
```

States like `hover`, `active`, ... are compiled into pseudoclasses and into
regular classes as well.

You can toggle states by passing state names as keys to `state` prop of styled
DOM components:

```javascript
<StyledDiv state={{hover: false, active: true}} />
```

## Credits

React Stylesheet is free software created by [Prometheus Research][] and is
released under the MIT license.

[Prometheus Research]: http://prometheusresearch.com
[higher order component]: https://gist.github.com/sebmarkbage/ef0bf1f338a7182b6775
[react-fa]: https://github.com/andreypopp/react-fa
